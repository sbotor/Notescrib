<div *ngIf="folder$ | async as folder; else loading" class="flex-fil flex-col">
  <mat-toolbar>
    <button *ngIf="canNavigateUp()" mat-icon-button (click)="navigateUp()" matTooltip="Back">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <span>{{formatPath()}}</span>

    <span class="toolbar-spacer"></span>

    <button mat-icon-button [matMenuTriggerFor]="newItemMenu" matTooltip="Add">
      <mat-icon matTooltip="Add">add</mat-icon>
    </button>
  </mat-toolbar>

  <mat-menu #newItemMenu>
    <button mat-menu-item (click)="createFolder()">
      <mat-icon>create_new_folder</mat-icon>
      <span>New folder</span>
    </button>

    <mat-divider></mat-divider>

    <button mat-menu-item (click)="createNote()">
      <mat-icon>note_add</mat-icon>
      <span>New note</span>
    </button>

    <button mat-menu-item (click)="createNoteFromTemplate()">
      <mat-icon>library_add</mat-icon>
      <span>New note from template</span>
    </button>
  </mat-menu>
  <app-browser-list></app-browser-list>
</div>

<ng-template #loading>
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>
