<div *ngIf="workspace$ | async as workspace; else spinner" class="full-height">
  <mat-toolbar>
    <button *ngIf="navInfo.canNavigateUp()" mat-icon-button (click)="navigateUp()">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <span>{{ formatPath(workspace.name) }}</span>

    <span class="toolbar-spacer"></span>

    <button [disabled]="!isItemSelected()" mat-icon-button (click)="dialog.editFolder()">
      <mat-icon>edit</mat-icon>
    </button>
    <button [disabled]="!isItemSelected()" mat-icon-button (click)="dialog.removeFolder()">
      <mat-icon>delete</mat-icon>
    </button>
    <mat-divider [vertical]="true"></mat-divider>
    <button mat-icon-button [matMenuTriggerFor]="newItemMenu">
      <mat-icon>add</mat-icon>
    </button>
  </mat-toolbar>

  <div id="items-container" *ngIf="items$ | async as items; else spinner" class="items-container"
    (click)="handleContainerClick($event)">
    <div *ngFor="let item of items">
      <app-browser-tile [item]="item"></app-browser-tile>
    </div>
  </div>
</div>

<mat-menu #newItemMenu>
  <button mat-menu-item (click)="dialog.createFolder()">
    <mat-icon>create_new_folder</mat-icon>
    <span>New folder</span>
  </button>
  <button mat-menu-item>
    <mat-icon>note_add</mat-icon>
    <span>New note</span>
  </button>
</mat-menu>

<ng-template #spinner>
  <mat-spinner></mat-spinner>
</ng-template>
